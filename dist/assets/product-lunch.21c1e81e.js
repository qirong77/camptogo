import{r as i,o as b,c as y,f as u,a as t,w as n,d as v,t as d,b as T,u as P,k as p,x as U,s as B,F as L,l as N,y as F,j as G}from"./index.34f58568.js";import{u as j}from"./user.0cb283b7.js";import{r as q}from"./index.7f1dc05c.js";import{u as z}from"./index.3c4931a3.js";function A(l){switch(l){case 4300:return"\u5BA1\u6838\u4E0D\u901A\u8FC7";case 5100:return"\u8349\u7A3F\u5546\u54C1";case 5200:return"\u5BA1\u6838\u4E2D";case 5300:return"\u5F85\u63D0\u4EA4\u4E0A\u67B6";case 5310:return"\u5DF2\u63D0\u4EA4\u4E0A\u67B6\u5F85\u5BA1\u6838";case 5400:return"\u5DF2\u4E0A\u67B6";case 5900:return"\u70B9\u51FB\u63D0\u4EA4\u4E0A\u67B6\u8BF7\u6C42";default:return"\u9ED8\u8BA4\u72B6\u6001"}}const E={class:"image"},I=["src"],M={class:"desc"},R={class:"small"},W={class:"small"},Z={__name:"product-card",props:{imageUrl:{default:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png"},desc:{default:"\u8FD9\u662F\u4E00\u4E2A\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u5F88\u957F\u7684\u5546\u54C1\u540D\u79F0\u4E00\u884C\u6700\u591A14\u4E2A\u5B57"},startTime:{default:"2022/3/13-2022/3/30"},endTime:{default:""},area:{default:"\u5730\u533A"},status:{default:"\u672A\u4E0A\u67B6"},price:{default:900},lunchStatus:{default:"\u4FEE\u6539\u5BA1\u6838\u4E2D"}},emits:["goToDetail"],setup(l,{emit:f}){const o=(c="2023-02-02T00:00:00Z")=>c.slice(5,10).replace("-","/"),m=(c=100)=>c/100;return(c,_)=>{const s=i("el-tag");return b(),y("div",{class:"product-card",onClick:_[0]||(_[0]=()=>f("goToDetail"))},[u("div",E,[u("img",{src:l.imageUrl},null,8,I),t(s,{class:"price",type:"success"},{default:n(()=>[v("$"+d(m(l.price)),1)]),_:1})]),u("p",M,d(l.desc),1),u("div",R,d(o(l.startTime))+"-"+d(o(l.endTime)),1),u("div",W,d(l.area),1),t(s,{class:"ml-2",type:"warning"},{default:n(()=>[v(d(T(A)(l.lunchStatus)),1)]),_:1})])}}};const H={class:"overview"},J={class:"tool-bar"},K={class:"search-bar",style:{display:"flex","margin-top":"10px"}},O={class:"buttons",style:{"margin-left":"40px"}},Q={class:"cards"},ae={__name:"product-lunch",setup(l){const f=P(),o=p("all"),m=p(""),c=p(""),_=z(),s=p([]),w=p([]);U(o,()=>{console.log("\u{1F4D5}",o.value),o.value==="all"?s.value=w.value:s.value=s.value.filter(r=>{if(o.value.includes(r.status))return r})});const V=()=>{f.push("/workbench/product/new")},k=(r=0)=>{_.setProduct(s.value[r]),f.push("/workbench/product/"+r)};return B(()=>{q.post(j.getList,{user_id:_.user.id}).then(r=>{var a;s.value=((a=r.data.details)==null?void 0:a.products)||s.value,w.value=s.value})}),(r,a)=>{const h=i("el-tab-pane"),$=i("el-tabs"),x=i("el-option"),D=i("el-select"),g=i("el-button"),C=i("el-input");return b(),y("div",H,[u("div",J,[t($,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e)},{default:n(()=>[t(h,{label:"\u5168\u90E8\u5546\u54C1",name:"all"}),t(h,{label:"\u8349\u7A3F",name:"5100"}),t(h,{label:"\u5BA1\u6838\u4E2D",name:"5200 5310"}),t(h,{label:"\u5F85\u4E0A\u67B6",name:"5300"})]),_:1},8,["modelValue"]),u("div",K,[t(C,{style:{width:"400px"},modelValue:m.value,"onUpdate:modelValue":a[2]||(a[2]=e=>m.value=e),placeholder:"\u8BF7\u8F93\u5165",class:"input-with-select"},{prepend:n(()=>[t(D,{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=e=>c.value=e),style:{width:"115px"}},{default:n(()=>[t(x,{label:"\u5546\u54C1\u72B6\u6001",value:"1"}),t(x,{label:"\u5546\u54C1ID",value:"2"})]),_:1},8,["modelValue"])]),append:n(()=>[t(g,{icon:T(F)},null,8,["icon"])]),_:1},8,["modelValue"]),u("div",O,[t(g,{onClick:a[3]||(a[3]=e=>m.value="")},{default:n(()=>[v("\u91CD\u7F6E")]),_:1}),t(g,{type:"primary"},{default:n(()=>[v("\u67E5\u8BE2")]),_:1}),t(g,{type:"primary",onClick:a[4]||(a[4]=()=>V())},{default:n(()=>[v("\u53D1\u5E03\u5546\u54C1")]),_:1})])])]),u("div",Q,[(b(!0),y(L,null,N(s.value,(e,S)=>(b(),G(Z,{key:e.id,desc:e.short_name,price:e.price_selling,"start-time":e.product_launching_time,"end-time":e.product_expiration_time,area:e.location_city,"lunch-status":e.status,"image-url":e.horizontal_shows[0].url,onGoToDetail:()=>k(S),status:e.status},null,8,["desc","price","start-time","end-time","area","lunch-status","image-url","onGoToDetail","status"]))),128))])])}}};export{ae as default};
